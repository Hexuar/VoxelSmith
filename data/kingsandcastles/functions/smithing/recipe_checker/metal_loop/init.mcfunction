execute store result score #metal_length kingsandcastles.value run data get storage kingsandcastles:smithing recipes[0].metals
scoreboard players set #metal_index kingsandcastles.value 0

function kingsandcastles:smithing/recipe_checker/metal_loop/loop